<?php
echo "<pre>";

$xo = [
    ['', '', '', '', '', '', '', ''],
    ['', '', 'B', 'B', 'B', 'B', 'B', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', 'O', '', '', '', ''],
    ['', '', '', '', 'O', '', '', ''],
    ['', '', '', '', '', 'O', '', ''],
    ['', '', '', '', '', '', 'O', ''],
    ['', '', '', '', '', '', '', 'O'],
    ['', '', '', '', 'X', '', 'A', ''],
    ['', '', '', 'X', '', '', 'A', ''],
    ['', '', 'X', '', '', '', 'A', ''],
    ['', 'X', '', '', '', '', 'A', ''],
    ['X', '', '', '', '', '', 'A', ''],

];

$vector = [
            [1,-1],
            [1,0],
            [1,1],
            [0,1],
        ];

/*

/*
$xo = [
    ['X', 'O', 'Z'],
    ['Z', 'X', 'Z'],
    ['O', 'Z', 'X'],

];
*/

for ($i = 1, $Vsize = count($xo);$i < $Vsize;$i++) {
    for ($j = 1, $Hsize = count($xo[$i]);$j < $Hsize;$j++) {
        for ($V = 0, $vecSize = count($vector);$V<$vecSize;$V++){
        nachbar($xo, $i, $j, $vector[$V][0] , $vector[$V][1]);
        }
    }
}

function nachbar($xo, $i, $j, $ii, $jj, $k = 0) {
    $k++;
        if (isset($xo[$i][$j])&&isset($xo[$i+$ii][$j+$jj])) {
        echo "{$xo[$i+$ii][$j+$jj]}-";
        if ($xo[$i][$j] == $xo[$i+$ii][$j+$jj]) {
            return nachbar($xo, $i+$ii, $j+$jj, $ii, $jj, $k);
        } elseif ($k == 4) {
            echo "{$xo[$i][$j]} win! ";
        }
    }
}
?>